--- a/handler.h	2015-12-02 13:52:03.000000000 +0300
+++ b/handler.h	2015-12-05 19:51:30.220732865 +0300
@@ -36,5 +36,6 @@
 json_get_field(json_object *obj, const char *name, json_type type)
 {
-	return json_check_type(json_object_object_get(obj, name), type);
+       return json_object_object_get_ex(obj, name, &obj) ?
+                       json_check_type(obj, type) : NULL;
 }
 
