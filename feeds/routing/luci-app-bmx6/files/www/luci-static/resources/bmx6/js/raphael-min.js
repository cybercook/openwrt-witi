Raphael=function(){function J(a,b,c){function e(){var f=Array.prototype.slice.call(arguments,0),d=f.join("\u25ba"),k=e.cache=e.cache||{},g=e.count=e.count||[];if(k.hasOwnProperty(d))return c?c(k[d]):k[d];1E3<=g[p]&&delete k[g.shift()];g[q](d);k[d]=a[C](b,f);return c?c(k[d]):k[d]}return e}function qa(){return this.x+" "+this.y}function ra(a){return function(b,c,e,f){var d={back:a};m.is(e,"function")?f=e:d.rot=e;b&&b.constructor==n&&(b=b.attrs.path);b&&(d.along=b);return this.animate(d,c,f)}}var K=
/[, ]+/,Oa=/^(circle|rect|path|ellipse|text|image)$/,x=document,S=window,Pa="Raphael"in S,Qa=S.Raphael,m=function(){if(m.is(arguments[0],"array")){for(var a=arguments[0],b=ja[C](m,a.splice(0,3+m.is(a[0],G))),c=b.set(),e=0,f=a[p];e<f;e++){var d=a[e]||{};Oa.test(d.type)&&c[q](b[d.type]().attr(d))}return c}return ja[C](m,arguments)},A=function(){},C="apply",T="click dblclick mousedown mousemove mouseout mouseover mouseup".split(" "),p="length",P=String.prototype.toLowerCase,v=Math,L=v.max,M=v.min,G=
"number",Ra=Object.prototype.toString,B=v.pow,q="push",U=/^(?=[\da-f]$)/,sa=/^url\(['"]?([^\)]+)['"]?\)$/i,Sa=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,z=v.round,y=parseFloat,Q=parseInt,aa=String.prototype.toUpperCase,ba={"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff",
"fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ka={along:"along","clip-rect":"csv",
cx:G,cy:G,fill:"colour","fill-opacity":G,"font-size":G,height:G,opacity:G,path:"path",r:G,rotation:"csv",rx:G,ry:G,scale:"csv",stroke:"colour","stroke-opacity":G,"stroke-width":G,translation:"csv",width:G,x:G,y:G};m.version="1.3.1";m.type=S.SVGAngle||x.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if("VML"==m.type){var W=document.createElement("div");W.innerHTML="\x3c!--[if vml]><br><br><![endif]--\x3e";if(2!=W.childNodes[p])return null}m.svg=!(m.vml=
"VML"==m.type);A.prototype=m.prototype;m._id=0;m._oid=0;m.fn={};m.is=function(a,b){b=P.call(b);return("object"==b||"undefined"==b)&&typeof a==b||null==a&&"null"==b||P.call(Ra.call(a).slice(8,-1))==b};m.setWindow=function(a){S=a;x=S.document};var ca=function(a){if(m.vml){var b=/^\s+|\s+$/g;ca=J(function(a){var c;a=(a+"").replace(b,"");try{var d=new ActiveXObject("htmlfile");d.write("<body>");d.close();c=d.body}catch(g){c=createPopup().document.body}d=c.createTextRange();try{c.style.color=a;var k=d.queryCommandValue("ForeColor");
return"#"+("000000"+((k&255)<<16|k&65280|(k&16711680)>>>16).toString(16)).slice(-6)}catch(g){return"none"}})}else{var c=x.createElement("i");c.title="Rapha\u00ebl Colour Picker";c.style.display="none";x.body.appendChild(c);ca=J(function(a){c.style.color=a;return x.defaultView.getComputedStyle(c,"").getPropertyValue("color")})}return ca(a)};m.hsb2rgb=J(function(a,b,c){m.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h);var e;if(0==c)return{r:0,g:0,b:0,hex:"#000"};if(1<a||1<b||1<c)a/=255,
b/=255,c/=255;e=~~(6*a);a=6*a-e;var f=c*(1-b),d=c*(1-b*a),k=c*(1-b*(1-a));a=[c,d,f,f,k,c,c][e];b=[k,c,c,d,f,f,k][e];e=[f,f,k,c,c,d,f][e];a*=255;b*=255;e*=255;c={r:a,g:b,b:e};a=(~~a).toString(16);b=(~~b).toString(16);e=(~~e).toString(16);a=a.replace(U,"0");b=b.replace(U,"0");e=e.replace(U,"0");c.hex="#"+a+b+e;return c},m);m.rgb2hsb=J(function(a,b,c){m.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,b=a.g,a=a.r);if(m.is(a,"string")){var e=m.getRGB(a);a=e.r;b=e.g;c=e.b}if(1<a||1<b||1<c)a/=255,b/=255,
c/=255;var e=L(a,b,c),f=M(a,b,c);if(f==e)return{h:0,s:0,b:e};f=e-f;a=(a==e?(b-c)/f:b==e?2+(c-a)/f:4+(a-b)/f)/6;0>a&&a++;1<a&&a--;return{h:a,s:f/e,b:e}},m);var Ta=/,?([achlmqrstvxz]),?/gi;m._path2string=function(){return this.join(",").replace(Ta,"$1")};m.getRGB=J(function(a){if(!a||(a+="").indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none"};!{hs:1,rg:1}.hasOwnProperty(a.substring(0,2))&&"#"!=a.charAt()&&(a=ca(a));var b,c,e,f;if(a=a.match(Sa)){a[2]&&
(e=Q(a[2].substring(5),16),c=Q(a[2].substring(3,5),16),b=Q(a[2].substring(1,3),16));a[3]&&(e=Q((f=a[3].charAt(3))+f,16),c=Q((f=a[3].charAt(2))+f,16),b=Q((f=a[3].charAt(1))+f,16));a[4]&&(a=a[4].split(/\s*,\s*/),b=y(a[0]),c=y(a[1]),e=y(a[2]));a[5]&&(a=a[5].split(/\s*,\s*/),b=2.55*y(a[0]),c=2.55*y(a[1]),e=2.55*y(a[2]));if(a[6])return a=a[6].split(/\s*,\s*/),b=y(a[0]),c=y(a[1]),e=y(a[2]),m.hsb2rgb(b,c,e);if(a[7])return a=a[7].split(/\s*,\s*/),b=2.55*y(a[0]),c=2.55*y(a[1]),e=2.55*y(a[2]),m.hsb2rgb(b,c,
e);a={r:b,g:c,b:e};b=(~~b).toString(16);c=(~~c).toString(16);e=(~~e).toString(16);b=b.replace(U,"0");c=c.replace(U,"0");e=e.replace(U,"0");a.hex="#"+b+c+e;return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},m);m.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75};var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=.075;1<a.h&&(a.h=0,a.s-=.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b}));return b.hex};m.getColor.reset=function(){delete this.start};m.parsePathString=J(function(a){if(!a)return null;
var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];m.is(a,"array")&&m.is(a[0],"array")&&(c=da(a));c[p]||(a+"").replace(/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(a,f,d){var k=[];a=P.call(f);for(d.replace(/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(a,b){b&&k[q](+b)});k[p]>=b[a]&&(c[q]([f].concat(k.splice(0,b[a]))),b[a]););});c.toString=m._path2string;return c});m.findDotsAtSegment=function(a,b,c,e,f,d,k,g,h){var l=1-h,m=B(l,3)*a+3*B(l,2)*h*c+3*l*h*h*f+B(h,3)*k,l=
B(l,3)*b+3*B(l,2)*h*e+3*l*h*h*d+B(h,3)*g,u=a+2*h*(c-a)+h*h*(f-2*c+a),p=b+2*h*(e-b)+h*h*(d-2*e+b),n=c+2*h*(f-c)+h*h*(k-2*f+c),t=e+2*h*(d-e)+h*h*(g-2*d+e);a=(1-h)*a+h*c;b=(1-h)*b+h*e;f=(1-h)*f+h*k;d=(1-h)*d+h*g;g=90-180*v.atan((u-n)/(p-t))/v.PI;(u>n||p<t)&&(g+=180);return{x:m,y:l,m:{x:u,y:p},n:{x:n,y:t},start:{x:a,y:b},end:{x:f,y:d},alpha:g}};var fa=J(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=ea(a);for(var b=0,c=0,e=[],f=[],d,k=0,g=a[p];k<g;k++)d=a[k],"M"==d[0]?(b=d[1],c=d[2],e[q](b),f[q](c)):
(b=Ua(b,c,d[1],d[2],d[3],d[4],d[5],d[6]),e=e.concat(b.min.x,b.max.x),f=f.concat(b.min.y,b.max.y),b=d[5],c=d[6]);a=M[C](0,e);d=M[C](0,f);return{x:a,y:d,width:L[C](0,e)-a,height:L[C](0,f)-d}}),da=function(a){var b=[];m.is(a,"array")&&m.is(a&&a[0],"array")||(a=m.parsePathString(a));for(var c=0,e=a[p];c<e;c++){b[c]=[];for(var f=0,d=a[c][p];f<d;f++)b[c][f]=a[c][f]}b.toString=m._path2string;return b},ta=J(function(a){m.is(a,"array")&&m.is(a&&a[0],"array")||(a=m.parsePathString(a));var b=[],c=0,e=0,f=0,
d=0,k=0;"M"==a[0][0]&&(c=a[0][1],e=a[0][2],f=c,d=e,k++,b[q](["M",c,e]));for(var g=a[p];k<g;k++){var h=b[k]=[],l=a[k];if(l[0]!=P.call(l[0]))switch(h[0]=P.call(l[0]),h[0]){case "a":h[1]=l[1];h[2]=l[2];h[3]=l[3];h[4]=l[4];h[5]=l[5];h[6]=+(l[6]-c).toFixed(3);h[7]=+(l[7]-e).toFixed(3);break;case "v":h[1]=+(l[1]-e).toFixed(3);break;case "m":f=l[1],d=l[2];default:for(var E=1,u=l[p];E<u;E++)h[E]=+(l[E]-(E%2?c:e)).toFixed(3)}else for(b[k]=[],"m"==l[0]&&(f=l[1]+c,d=l[2]+e),h=0,E=l[p];h<E;h++)b[k][h]=l[h];l=
b[k][p];switch(b[k][0]){case "z":c=f;e=d;break;case "h":c+=+b[k][l-1];break;case "v":e+=+b[k][l-1];break;default:c+=+b[k][l-2],e+=+b[k][l-1]}}b.toString=m._path2string;return b},0,da),X=J(function(a){m.is(a,"array")&&m.is(a&&a[0],"array")||(a=m.parsePathString(a));var b=[],c=0,e=0,f=0,d=0,k=0;"M"==a[0][0]&&(c=+a[0][1],e=+a[0][2],f=c,d=e,k++,b[0]=["M",c,e]);for(var g=a[p];k<g;k++){var h=b[k]=[],l=a[k];if(l[0]!=aa.call(l[0]))switch(h[0]=aa.call(l[0]),h[0]){case "A":h[1]=l[1];h[2]=l[2];h[3]=l[3];h[4]=
l[4];h[5]=l[5];h[6]=+(l[6]+c);h[7]=+(l[7]+e);break;case "V":h[1]=+l[1]+e;break;case "H":h[1]=+l[1]+c;break;case "M":f=+l[1]+c,d=+l[2]+e;default:for(var E=1,u=l[p];E<u;E++)h[E]=+l[E]+(E%2?c:e)}else for(E=0,u=l[p];E<u;E++)b[k][E]=l[E];switch(h[0]){case "Z":c=f;e=d;break;case "H":c=h[1];break;case "V":e=h[1];break;default:c=b[k][b[k][p]-2],e=b[k][b[k][p]-1]}}b.toString=m._path2string;return b},null,da),ga=function(a,b,c,e){return[a,b,c,e,c,e]},ua=function(a,b,c,e,f,d){var k=1/3,g=2/3;return[k*a+g*c,
k*b+g*e,k*f+g*c,k*d+g*e,f,d]},va=function(a,b,c,e,f,d,k,g,h,l){var m=v.PI,u=120*m/180,F=m/180*(+f||0),n=[],t,R=J(function(a,b,c){var d=a*v.cos(c)-b*v.sin(c);a=a*v.sin(c)+b*v.cos(c);return{x:d,y:a}});if(l)w=l[0],t=l[1],d=l[2],H=l[3];else{t=R(a,b,-F);a=t.x;b=t.y;t=R(g,h,-F);g=t.x;h=t.y;v.cos(m/180*f);v.sin(m/180*f);t=(a-g)/2;w=(b-h)/2;c=L(c,v.abs(t));e=L(e,v.abs(w));H=t*t/(c*c)+w*w/(e*e);1<H&&(c*=v.sqrt(H),e*=v.sqrt(H));var H=c*c,r=e*e,H=(d==k?-1:1)*v.sqrt(v.abs((H*r-H*w*w-r*t*t)/(H*w*w+r*t*t)));d=
H*c*w/e+(a+g)/2;var H=H*-e*t/c+(b+h)/2,w=v.asin(((b-H)/e).toFixed(7));t=v.asin(((h-H)/e).toFixed(7));w=a<d?m-w:w;t=g<d?m-t:t;0>w&&(w=2*m+w);0>t&&(t=2*m+t);k&&w>t&&(w-=2*m);!k&&t>w&&(t-=2*m)}v.abs(t-w)>u&&(n=t,m=g,r=h,t=w+u*(k&&t>w?1:-1),g=d+c*v.cos(t),h=H+e*v.sin(t),n=va(g,h,c,e,f,0,k,m,r,[t,n,d,H]));d=t-w;f=v.cos(w);u=v.sin(w);k=v.cos(t);m=v.sin(t);t=v.tan(d/4);c=4/3*c*t;t*=4/3*e;e=[a,b];a=[a+c*u,b-t*f];b=[g+c*m,h-t*k];g=[g,h];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(l)return[a,b,g].concat(n);n=[a,b,
g].concat(n).join().split(",");l=[];g=0;for(h=n[p];g<h;g++)l[g]=g%2?R(n[g-1],n[g],F).y:R(n[g],n[g+1],F).x;return l},Y=function(a,b,c,e,f,d,k,g,h){var l=1-h;return{x:B(l,3)*a+3*B(l,2)*h*c+3*l*h*h*f+B(h,3)*k,y:B(l,3)*b+3*B(l,2)*h*e+3*l*h*h*d+B(h,3)*g}},Ua=J(function(a,b,c,e,f,d,k,g){var h=f-2*c+a-(k-2*f+c),l=2*(c-a)-2*(f-c),m=a-c,u=(-l+v.sqrt(l*l-4*h*m))/2/h,h=(-l-v.sqrt(l*l-4*h*m))/2/h,p=[b,g],n=[a,k];1E12<v.abs(u)&&(u=.5);1E12<v.abs(h)&&(h=.5);0<u&&1>u&&(u=Y(a,b,c,e,f,d,k,g,u),n[q](u.x),p[q](u.y));
0<h&&1>h&&(u=Y(a,b,c,e,f,d,k,g,h),n[q](u.x),p[q](u.y));h=d-2*e+b-(g-2*d+e);l=2*(e-b)-2*(d-e);m=b-e;u=(-l+v.sqrt(l*l-4*h*m))/2/h;h=(-l-v.sqrt(l*l-4*h*m))/2/h;1E12<v.abs(u)&&(u=.5);1E12<v.abs(h)&&(h=.5);0<u&&1>u&&(u=Y(a,b,c,e,f,d,k,g,u),n[q](u.x),p[q](u.y));0<h&&1>h&&(u=Y(a,b,c,e,f,d,k,g,h),n[q](u.x),p[q](u.y));return{min:{x:M[C](0,n),y:M[C](0,p)},max:{x:L[C](0,n),y:L[C](0,p)}}}),ea=J(function(a,b){var c=X(a),e=b&&X(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,
qy:null},k=function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(va[C](0,[b.x,b.y].concat(a.slice(1))));break;case "S":c=b.x+(b.x-(b.bx||b.x));d=b.y+(b.y-(b.by||b.y));a=["C",c,d].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(ua(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(ua(b.x,b.y,a[1],a[2],a[3],
a[4]));break;case "L":a=["C"].concat(ga(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(ga(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(ga(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(ga(b.x,b.y,b.X,b.Y))}return a},g=function(a,b){if(7<a[b][p]){a[b].shift();for(var d=a[b];d[p];)a.splice(b++,0,["C"].concat(d.splice(0,6)));a.splice(b,1);m=L(c[p],e&&e[p]||0)}},h=function(a,b,d,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),d.bx=0,d.by=0,d.x=a[g][1],d.y=a[g][2],m=L(c[p],
e&&e[p]||0))},l=0,m=L(c[p],e&&e[p]||0);for(;l<m;l++){c[l]=k(c[l],f);g(c,l);e&&(e[l]=k(e[l],d));e&&g(e,l);h(c,e,f,d,l);h(e,c,d,f,l);var u=c[l],n=e&&e[l],r=u[p],t=e&&n[p];f.x=u[r-2];f.y=u[r-1];f.bx=y(u[r-4])||f.x;f.by=y(u[r-3])||f.y;d.bx=e&&(y(n[t-4])||d.x);d.by=e&&(y(n[t-3])||d.y);d.x=e&&n[t-2];d.y=e&&n[t-1]}return e?[c,e]:c},null,da),wa=J(function(a){for(var b=[],c=0,e=a[p];c<e;c++){var f={},d=a[c].match(/^([^:]*):?([\d\.]*)/);f.color=m.getRGB(d[1]);if(f.color.error)return null;f.color=f.color.hex;
d[2]&&(f.offset=d[2]+"%");b[q](f)}c=1;for(e=b[p]-1;c<e;c++)if(!b[c].offset){a=y(b[c-1].offset||0);d=0;for(f=c+1;f<e;f++)if(b[f].offset){d=b[f].offset;break}d||(d=100,f=e);d=y(d);for(d=(d-a)/(f-c+1);c<f;c++)a+=d,b[c].offset=a+"%"}return b}),xa=function(){var a;if(m.is(arguments[0],"string")||m.is(arguments[0],"object")){if(a=m.is(arguments[0],"string")?x.getElementById(arguments[0]):arguments[0],a.tagName)return null==arguments[1]?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||
a.offsetHeight}:{container:a,width:arguments[1],height:arguments[2]}}else if(m.is(arguments[0],G)&&3<arguments[p])return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}},la=function(a,b){var c=this,e;for(e in b)if(b.hasOwnProperty(e)&&!(e in a))switch(typeof b[e]){case "function":(function(b){a[e]=a===c?b:function(){return b[C](c,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};la.call(this,a[e],b[e]);break;default:a[e]=b[e]}},V=function(a,b){a==b.top&&(b.top=
a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},ya=function(a,b){b.top!==a&&(V(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},za=function(a,b){b.bottom!==a&&(V(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},Aa=function(a,b,c){V(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},Ba=function(a,b,c){V(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},Ca=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+
a+"\u201d of removed object");}},Da=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(m.svg){A.prototype.svgns="http://www.w3.org/2000/svg";A.prototype.xlink="http://www.w3.org/1999/xlink";var z=function(a){return+a+.5*(~~a===a)},Va=function(a){for(var b=0,c=a[p];b<c;b++)if("a"!=P.call(a[b][0]))for(var e=1,f=a[b][p];e<f;e++)a[b][e]=z(a[b][e]);else a[b][6]=z(a[b][6]),a[b][7]=z(a[b][7]);return a},r=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c]);else return x.createElementNS(A.prototype.svgns,
a)};m.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Ea=function(a,b){var c=r("path");b.canvas&&b.canvas.appendChild(c);c=new n(c,b);c.type="path";N(c,{fill:"none",stroke:"#000",path:a});return c},Z=function(a,b,c){var e="linear",f=.5,d=.5,k=a.style;b=(b+"").replace(Da,function(a,b,c){e="radial";b&&c&&(f=y(b),d=y(c),a=2*(.5<d)-1,.25<B(f-.5,2)+B(d-.5,2)&&(d=v.sqrt(.25-B(f-.5,2))*a+.5)&&.5!=d&&(d=d.toFixed(5)-1E-5*a));return""});b=b.split(/\s*\-\s*/);
if("linear"==e){var g=b.shift(),g=-y(g);if(isNaN(g))return null;var h=[0,0,v.cos(g*v.PI/180),v.sin(g*v.PI/180)],g=1/(L(v.abs(h[2]),v.abs(h[3]))||1);h[2]*=g;h[3]*=g;0>h[2]&&(h[0]=-h[2],h[2]=0);0>h[3]&&(h[1]=-h[3],h[3]=0)}b=wa(b);if(!b)return null;g=r(e+"Gradient");g.id="r"+(m._id++).toString(36);r(g,"radial"==e?{fx:f,fy:d}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3]});c.defs.appendChild(g);c=0;for(h=b[p];c<h;c++){var l=r("stop");r(l,{offset:b[c].offset?b[c].offset:c?"100%":"0%","stop-color":b[c].color||"#fff"});
g.appendChild(l)}r(a,{fill:"url(#"+g.id+")",opacity:1,"fill-opacity":1});k.fill="";k.opacity=1;return k.fillOpacity=1},ma=function(a){var b=a.getBBox();r(a.pattern,{patternTransform:m.format("translate({0},{1})",b.x,b.y)})},N=function(a,b){var c={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,f=a.attrs,d=a.rotate(),k=function(a,d){if(d=c[P.call(d)]){for(var f=a.attrs["stroke-width"]||
"1",g={round:f,square:f,butt:0}[a.attrs["stroke-linecap"]||b["stroke-linecap"]]||0,h=[],k=d[p];k--;)h[k]=d[k]*f+(k%2?1:-1)*g;r(e,{"stroke-dasharray":h.join(",")})}};b.hasOwnProperty("rotation")&&(d=b.rotation);var g=(d+"").split(K);g.length-1?(g[1]=+g[1],g[2]=+g[2]):g=null;y(d)&&a.rotate(0,!0);for(var h in b)if(b.hasOwnProperty(h)&&ba.hasOwnProperty(h)){var l=b[h];f[h]=l;switch(h){case "rotation":a.rotate(l,!0);break;case "href":case "title":case "target":var n=e.parentNode;if("a"!=P.call(n.tagName)){var u=
r("a");n.insertBefore(u,e);u.appendChild(e);n=u}n.setAttributeNS(a.paper.xlink,h,l);break;case "cursor":e.style.cursor=l;break;case "clip-rect":n=(l+"").split(K);if(4==n[p]){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var F=r("clipPath"),u=r("rect");F.id="r"+(m._id++).toString(36);r(u,{x:n[0],y:n[1],width:n[2],height:n[3]});F.appendChild(u);a.paper.defs.appendChild(F);r(e,{"clip-path":"url(#"+F.id+")"});a.clip=u}l||((l=x.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,
"")))&&l.parentNode.removeChild(l),r(e,{"clip-path":""}),delete a.clip);break;case "path":l&&"path"==a.type&&(f.path=Va(X(l)),r(e,{d:f.path}));break;case "width":if(e.setAttribute(h,l),f.fx)h="x",l=f.x;else break;case "x":f.fx&&(l=-f.x-(f.width||0));case "rx":if("rx"==h&&"rect"==a.type)break;case "cx":g&&("x"==h||"cx"==h)&&(g[1]+=l-f[h]);e.setAttribute(h,z(l));a.pattern&&ma(a);break;case "height":if(e.setAttribute(h,l),f.fy)h="y",l=f.y;else break;case "y":f.fy&&(l=-f.y-(f.height||0));case "ry":if("ry"==
h&&"rect"==a.type)break;case "cy":g&&("y"==h||"cy"==h)&&(g[2]+=l-f[h]);e.setAttribute(h,z(l));a.pattern&&ma(a);break;case "r":"rect"==a.type?r(e,{rx:l,ry:l}):e.setAttribute(h,l);break;case "src":"image"==a.type&&e.setAttributeNS(a.paper.xlink,"href",l);break;case "stroke-width":e.style.strokeWidth=l;e.setAttribute(h,l);f["stroke-dasharray"]&&k(a,f["stroke-dasharray"]);break;case "stroke-dasharray":k(a,l);break;case "translation":l=(l+"").split(K);l[0]=+l[0]||0;l[1]=+l[1]||0;g&&(g[1]+=l[0],g[2]+=l[1]);
ha.call(a,l[0],l[1]);break;case "scale":l=(l+"").split(K);a.scale(+l[0]||1,+l[1]||+l[0]||1,+l[2]||null,+l[3]||null);break;case "fill":if(n=(l+"").match(sa)){var F=r("pattern"),v=r("image");F.id="r"+(m._id++).toString(36);r(F,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});r(v,{x:0,y:0});v.setAttributeNS(a.paper.xlink,"href",n[1]);F.appendChild(v);l=x.createElement("img");l.style.cssText="position:absolute;left:-9999em;top-9999em";l.onload=function(){r(F,{width:this.offsetWidth,height:this.offsetHeight});
r(v,{width:this.offsetWidth,height:this.offsetHeight});x.body.removeChild(this);a.paper.safari()};x.body.appendChild(l);l.src=n[1];a.paper.defs.appendChild(F);e.style.fill="url(#"+F.id+")";r(e,{fill:"url(#"+F.id+")"});a.pattern=F;a.pattern&&ma(a);break}if(!m.getRGB(l).error)delete b.gradient,delete f.gradient,!m.is(f.opacity,"undefined")&&m.is(b.opacity,"undefined")&&r(e,{opacity:f.opacity}),!m.is(f["fill-opacity"],"undefined")&&m.is(b["fill-opacity"],"undefined")&&r(e,{"fill-opacity":f["fill-opacity"]});
else if(({circle:1,ellipse:1}.hasOwnProperty(a.type)||"r"!=(l+"").charAt())&&Z(e,l,a.paper)){f.gradient=l;f.fill="none";break}case "stroke":e.setAttribute(h,m.getRGB(l).hex);break;case "gradient":({circle:1,ellipse:1}.hasOwnProperty(a.type)||"r"!=(l+"").charAt())&&Z(e,l,a.paper);break;case "opacity":case "fill-opacity":if(f.gradient){if(n=x.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,"")))n=n.getElementsByTagName("stop"),n[n[p]-1].setAttribute("stop-opacity",l);break}default:"font-size"==
h&&(l=Q(l,10)+"px"),n=h.replace(/(\-.)/g,function(a){return aa.call(a.substring(1))}),e.style[n]=l,e.setAttribute(h,l)}}Wa(a,b);g?a.rotate(g.join(" ")):y(d)&&a.rotate(d,!0)},Wa=function(a,b){if("text"==a.type&&(b.hasOwnProperty("text")||b.hasOwnProperty("font")||b.hasOwnProperty("font-size")||b.hasOwnProperty("x")||b.hasOwnProperty("y"))){var c=a.attrs,e=a.node,f=e.firstChild?Q(x.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),10):10;if(b.hasOwnProperty("text")){for(c.text=
b.text;e.firstChild;)e.removeChild(e.firstChild);for(var d=(b.text+"").split("\n"),k=0,g=d[p];k<g;k++)if(d[k]){var h=r("tspan");k&&r(h,{dy:1.2*f,x:c.x});h.appendChild(x.createTextNode(d[k]));e.appendChild(h)}}else for(d=e.getElementsByTagName("tspan"),k=0,g=d[p];k<g;k++)k&&r(d[k],{dy:1.2*f,x:c.x});r(e,{y:c.y});f=a.getBBox();(f=c.y-(f.y+f.height/2))&&isFinite(f)&&r(e,{y:c.y+f})}},n=function(a,b){this[0]=a;this.id=m._oid++;this.node=a;a.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=
[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null};n.prototype.rotate=function(a,b,c){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;var e=this.getBBox();a=(a+"").split(K);a[p]-1&&(b=y(a[1]),c=y(a[2]));a=y(a[0]);this._.rt.deg=null!=b?a:this._.rt.deg+a;null==c&&(b=null);this._.rt.cx=b;this._.rt.cy=c;b=null==b?e.x+e.width/2:b;c=null==
c?e.y+e.height/2:c;this._.rt.deg?(this.transformations[0]=m.format("rotate({0} {1} {2})",this._.rt.deg,b,c),this.clip&&r(this.clip,{transform:m.format("rotate({0} {1} {2})",-this._.rt.deg,b,c)})):(this.transformations[0]="",this.clip&&r(this.clip,{transform:""}));r(this.node,{transform:this.transformations.join(" ")});return this};n.prototype.hide=function(){!this.removed&&(this.node.style.display="none");return this};n.prototype.show=function(){!this.removed&&(this.node.style.display="");return this};
n.prototype.remove=function(){if(!this.removed){V(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=!0}};n.prototype.getBBox=function(){if(this.removed)return this;if("path"==this.type)return fa(this.attrs.path);if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(d){}finally{b=b||{}}if("text"==this.type)for(var b={x:b.x,y:Infinity,width:0,height:0},c=0,e=this.node.getNumberOfChars();c<e;c++){var f=
this.node.getExtentOfChar(c);f.y<b.y&&(b.y=f.y);f.y+f.height-b.y>b.height&&(b.height=f.y+f.height-b.y);f.x+f.width-b.x>b.width&&(b.width=f.x+f.width-b.x)}a&&this.hide();return b};n.prototype.attr=function(){if(this.removed)return this;if(0==arguments[p]){var a={},b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(a[b]=this.attrs[b]);this._.rt.deg&&(a.rotation=this.rotate());1==this._.sx&&1==this._.sy||(a.scale=this.scale());a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient;return a}if(1==
arguments[p]&&m.is(arguments[0],"string"))return"translation"==arguments[0]?ha.call(this):"rotation"==arguments[0]?this.rotate():"scale"==arguments[0]?this.scale():"fill"==arguments[0]&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[arguments[0]];if(1==arguments[p]&&m.is(arguments[0],"array")){b={};for(a in arguments[0])arguments[0].hasOwnProperty(a)&&(b[arguments[0][a]]=this.attrs[arguments[0][a]]);return b}2==arguments[p]?(b={},b[arguments[0]]=arguments[1],N(this,b)):
1==arguments[p]&&m.is(arguments[0],"object")&&N(this,arguments[0]);return this};n.prototype.toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&ya(this,a);return this};n.prototype.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),za(this,this.paper));return this};n.prototype.insertAfter=function(a){if(this.removed)return this;
var b=a.node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Aa(this,a,this.paper);return this};n.prototype.insertBefore=function(a){if(this.removed)return this;var b=a.node;b.parentNode.insertBefore(this.node,b);Ba(this,a,this.paper);return this};var Fa=function(a,b,c,e){b=z(b);c=z(c);var f=r("circle");a.canvas&&a.canvas.appendChild(f);a=new n(f,a);a.attrs={cx:b,cy:c,r:e,fill:"none",stroke:"#000"};a.type="circle";r(f,a.attrs);return a},Ga=function(a,
b,c,e,f,d){b=z(b);c=z(c);var k=r("rect");a.canvas&&a.canvas.appendChild(k);a=new n(k,a);a.attrs={x:b,y:c,width:e,height:f,r:d||0,rx:d||0,ry:d||0,fill:"none",stroke:"#000"};a.type="rect";r(k,a.attrs);return a},Ha=function(a,b,c,e,f){b=z(b);c=z(c);var d=r("ellipse");a.canvas&&a.canvas.appendChild(d);a=new n(d,a);a.attrs={cx:b,cy:c,rx:e,ry:f,fill:"none",stroke:"#000"};a.type="ellipse";r(d,a.attrs);return a},Ia=function(a,b,c,e,f,d){var k=r("image");r(k,{x:c,y:e,width:f,height:d,preserveAspectRatio:"none"});
k.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(k);a=new n(k,a);a.attrs={x:c,y:e,width:f,height:d,src:b};a.type="image";return a},Ja=function(a,b,c,e){var f=r("text");r(f,{x:b,y:c,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(f);a=new n(f,a);a.attrs={x:b,y:c,"text-anchor":"middle",text:e,font:ba.font,stroke:"none",fill:"#000"};a.type="text";N(a,a.attrs);return a},Ka=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);
this.canvas.setAttribute("height",this.height);return this},ja=function(){var a=xa[C](null,arguments),b=a&&a.container,c=a.x,e=a.y,f=a.width,a=a.height;if(!b)throw Error("SVG container not found.");var d=r("svg"),f=f||512,a=a||342;r(d,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:a});1==b?(d.style.cssText="position:absolute;left:"+c+"px;top:"+e+"px",x.body.appendChild(d)):b.firstChild?b.insertBefore(d,b.firstChild):b.appendChild(d);b=new A;b.width=f;b.height=a;b.canvas=d;la.call(b,
b,m.fn);b.clear();return b};A.prototype.clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=r("desc")).appendChild(x.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=r("defs"))};A.prototype.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Ca(a)}}if(m.vml){var Xa=function(a){var b=/[ahqstv]/ig,c=X;(a+"").match(b)&&(c=ea);b=
/[clmz]/g;if(c==X&&!(a+"").match(b)){var e={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},f=/-?[^,\s-]+/g;return a=(a+"").replace(/([clmz]),?([^clmz]*)/gi,function(a,b,c){var d=[];c.replace(f,function(a){d[q](z(a))});return e[b]+d})}b=c(a);a=[];for(var d,k=0,g=b[p];k<g;k++){c=b[k];d=P.call(b[k][0]);"z"==d&&(d="x");for(var h=1,l=c[p];h<l;h++)d+=z(c[h])+(h!=l-1?",":"");a[q](d)}return a.join(" ")};m.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};Ea=function(a,b){var c=D("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";c.coordsize=b.coordsize;c.coordorigin=b.coordorigin;var e=D("shape"),f=e.style;f.width=b.width+"px";f.height=b.height+"px";e.coordsize=this.coordsize;e.coordorigin=this.coordorigin;c.appendChild(e);e=new n(e,c,b);e.isAbsolute=!0;e.type="path";e.path=[];e.Path="";a&&N(e,{fill:"none",stroke:"#000",path:a});b.canvas.appendChild(c);return e};N=function(a,b){a.attrs=
a.attrs||{};var c=a.node,e=a.attrs,f=c.style,d;for(d in b)b.hasOwnProperty(d)&&(e[d]=b[d]);b.href&&(c.href=b.href);b.title&&(c.title=b.title);b.target&&(c.target=b.target);b.cursor&&(f.cursor=b.cursor);b.path&&"path"==a.type&&(e.path=b.path,c.path=Xa(e.path));null!=b.rotation&&a.rotate(b.rotation,!0);b.translation&&(d=(b.translation+"").split(K),ha.call(a,d[0],d[1]),null!=a._.rt.cx&&(a._.rt.cx+=+d[0],a._.rt.cy+=+d[1],a.setBox(a.attrs,d[0],d[1])));b.scale&&(d=(b.scale+"").split(K),a.scale(+d[0]||1,
+d[1]||+d[0]||1,+d[2]||null,+d[3]||null));if("clip-rect"in b){d=(b["clip-rect"]+"").split(K);if(4==d[p]){d[2]=+d[2]+ +d[0];d[3]=+d[3]+ +d[1];var k=c.clipRect||x.createElement("div"),g=k.style,h=c.parentNode;g.clip=m.format("rect({1}px {2}px {3}px {0}px)",d);c.clipRect||(g.position="absolute",g.top=0,g.left=0,g.width=a.paper.width+"px",g.height=a.paper.height+"px",h.parentNode.insertBefore(k,h),k.appendChild(h),c.clipRect=k)}b["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="")}"image"==a.type&&b.src&&
(c.src=b.src);"image"==a.type&&b.opacity&&(c.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*b.opacity+")",f.filter=(c.filterMatrix||"")+(c.filterOpacity||""));b.font&&(f.font=b.font);b["font-family"]&&(f.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(f.fontSize=b["font-size"]);b["font-weight"]&&(f.fontWeight=b["font-weight"]);b["font-style"]&&(f.fontStyle=b["font-style"]);if(null!=b.opacity||null!=b["stroke-width"]||null!=b.fill||
null!=b.stroke||null!=b["stroke-width"]||null!=b["stroke-opacity"]||null!=b["fill-opacity"]||null!=b["stroke-dasharray"]||null!=b["stroke-miterlimit"]||null!=b["stroke-linejoin"]||null!=b["stroke-linecap"]){c=a.shape||c;d=c.getElementsByTagName("fill")&&c.getElementsByTagName("fill")[0];k=!1;!d&&(k=d=D("fill"));if("fill-opacity"in b||"opacity"in b)f=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1),0>f&&(f=0),1<f&&(f=1),d.opacity=f;b.fill&&(d.on=!0);if(null==d.on||"none"==b.fill)d.on=!1;d.on&&b.fill&&
((f=b.fill.match(sa))?(d.src=f[1],d.type="tile"):(d.color=m.getRGB(b.fill).hex,d.src="",d.type="solid",m.getRGB(b.fill).error&&(a.type in{circle:1,ellipse:1}||"r"!=(b.fill+"").charAt())&&Z(a,b.fill)&&(e.fill="none",e.gradient=b.fill)));k&&c.appendChild(d);d=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0];k=!1;!d&&(k=d=D("stroke"));if(b.stroke&&"none"!=b.stroke||b["stroke-width"]||null!=b["stroke-opacity"]||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||
b["stroke-linecap"])d.on=!0;"none"!=b.stroke&&null!=d.on&&0!=b.stroke&&0!=b["stroke-width"]||(d.on=!1);d.on&&b.stroke&&(d.color=m.getRGB(b.stroke).hex);f=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1);g=.75*(y(b["stroke-width"])||1);0>f&&(f=0);1<f&&(f=1);null==b["stroke-width"]&&(g=e["stroke-width"]);b["stroke-width"]&&(d.weight=g);g&&1>g&&(f*=g)&&(d.weight=1);d.opacity=f;b["stroke-linejoin"]&&(d.joinstyle=b["stroke-linejoin"]||"miter");d.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&
(d.endcap="butt"==b["stroke-linecap"]?"flat":"square"==b["stroke-linecap"]?"square":"round");b["stroke-dasharray"]&&(f={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},d.dashstyle=f.hasOwnProperty(b["stroke-dasharray"])?f[b["stroke-dasharray"]]:"");k&&c.appendChild(d)}if("text"==a.type)switch(f=a.paper.span.style,e.font&&(f.font=e.font),e["font-family"]&&(f.fontFamily=e["font-family"]),
e["font-size"]&&(f.fontSize=e["font-size"]),e["font-weight"]&&(f.fontWeight=e["font-weight"]),e["font-style"]&&(f.fontStyle=e["font-style"]),a.node.string&&(a.paper.span.innerHTML=(a.node.string+"").replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),a.W=e.w=a.paper.span.offsetWidth,a.H=e.h=a.paper.span.offsetHeight,a.X=e.x,a.Y=e.y+z(a.H/2),e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=z(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-z(a.W/
2);break;default:a.node.style["v-text-align"]="center"}};Z=function(a,b){a.attrs=a.attrs||{};var c=a.node.getElementsByTagName("fill"),e="linear",f=".5 .5";a.attrs.gradient=b;b=(b+"").replace(Da,function(a,b,c){e="radial";b&&c&&(b=y(b),c=y(c),.25<B(b-.5,2)+B(c-.5,2)&&(c=v.sqrt(.25-B(b-.5,2))*(2*(.5<c)-1)+.5),f=b+" "+c);return""});b=b.split(/\s*\-\s*/);if("linear"==e){var d=b.shift(),d=-y(d);if(isNaN(d))return null}var k=wa(b);if(!k)return null;a=a.shape||a.node;c=c[0]||D("fill");if(k[p]){c.on=!0;
c.method="none";c.type="radial"==e?"gradientradial":"gradient";c.color=k[0].color;c.color2=k[k[p]-1].color;for(var g=[],h=0,l=k[p];h<l;h++)k[h].offset&&g[q](k[h].offset+" "+k[h].color);c.colors&&(c.colors.value=g[p]?g.join(","):"0% "+c.color);"radial"==e?(c.focus="100%",c.focussize=f,c.focusposition=f):c.angle=(270-d)%360}return 1};n=function(a,b,c){this[0]=a;this.id=m._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};
!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null};n.prototype.rotate=function(a,b,c){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;a=(a+"").split(K);a[p]-1&&(b=y(a[1]),c=y(a[2]));a=y(a[0]);this._.rt.deg=null!=b?a:this._.rt.deg+a;null==c&&(b=null);this._.rt.cx=b;this._.rt.cy=c;this.setBox(this.attrs,b,c);this.Group.style.rotation=this._.rt.deg;return this};n.prototype.setBox=function(a,
b,c){if(this.removed)return this;var e=this.Group.style,f=this.shape&&this.shape.style||this.node.style;a=a||{};for(var d in a)a.hasOwnProperty(d)&&(this.attrs[d]=a[d]);b=b||this._.rt.cx;c=c||this._.rt.cy;var k=this.attrs,g,h,l;switch(this.type){case "circle":d=k.cx-k.r;g=k.cy-k.r;h=l=2*k.r;break;case "ellipse":d=k.cx-k.rx;g=k.cy-k.ry;h=2*k.rx;l=2*k.ry;break;case "rect":case "image":d=+k.x;g=+k.y;h=k.width||0;l=k.height||0;break;case "text":this.textpath.v=["m",z(k.x),", ",z(k.y-2),"l",z(k.x)+1,", ",
z(k.y-2)].join("");d=k.x-z(this.W/2);g=k.y-this.H/2;h=this.W;l=this.H;break;case "path":this.attrs.path?(l=fa(this.attrs.path),d=l.x,g=l.y,h=l.width,l=l.height):(g=d=0,h=this.paper.width,l=this.paper.height);break;default:g=d=0,h=this.paper.width,l=this.paper.height}b=(null==b?d+h/2:b)-this.paper.width/2;c=(null==c?g+l/2:c)-this.paper.height/2;if("path"==this.type||"text"==this.type)e.left!=b+"px"&&(e.left=b+"px"),e.top!=c+"px"&&(e.top=c+"px"),this.X="text"==this.type?d:-b,this.Y="text"==this.type?
g:-c,this.W=h,this.H=l,f.left!=-b+"px"&&(f.left=-b+"px"),f.top!=-c+"px"&&(f.top=-c+"px");else if(e.left!=b+"px"&&(e.left=b+"px"),e.top!=c+"px"&&(e.top=c+"px"),this.X=d,this.Y=g,this.W=h,this.H=l,e.width!=this.paper.width+"px"&&(e.width=this.paper.width+"px"),e.height!=this.paper.height+"px"&&(e.height=this.paper.height+"px"),f.left!=d-b+"px"&&(f.left=d-b+"px"),f.top!=g-c+"px"&&(f.top=g-c+"px"),f.width!=h+"px"&&(f.width=h+"px"),f.height!=l+"px"&&(f.height=l+"px"),a=(+a.r||0)/M(h,l),"rect"==this.type&&
this.arcsize.toFixed(4)!=a.toFixed(4)&&(a||this.arcsize)){e=D("roundrect");f={};d=0;c=this.events&&this.events[p];e.arcsize=a;e.raphael=this;this.Group.appendChild(e);this.Group.removeChild(this.node);this[0]=this.node=e;this.arcsize=a;for(d in k)f[d]=k[d];delete f.scale;this.attr(f);if(this.events)for(;d<c;d++)this.events[d].unbind=La(this.node,this.events[d].name,this.events[d].f,this)}};n.prototype.hide=function(){!this.removed&&(this.Group.style.display="none");return this};n.prototype.show=function(){!this.removed&&
(this.Group.style.display="block");return this};n.prototype.getBBox=function(){return this.removed?this:"path"==this.type?fa(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};n.prototype.remove=function(){if(!this.removed){V(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=!0}};n.prototype.attr=function(){if(this.removed)return this;
if(0==arguments[p]){var a={},b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(a[b]=this.attrs[b]);this._.rt.deg&&(a.rotation=this.rotate());1==this._.sx&&1==this._.sy||(a.scale=this.scale());a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient;return a}if(1==arguments[p]&&m.is(arguments[0],"string"))return"translation"==arguments[0]?ha.call(this):"rotation"==arguments[0]?this.rotate():"scale"==arguments[0]?this.scale():"fill"==arguments[0]&&"none"==this.attrs.fill&&this.attrs.gradient?
this.attrs.gradient:this.attrs[arguments[0]];if(this.attrs&&1==arguments[p]&&m.is(arguments[0],"array")){a={};b=0;for(var c=arguments[0][p];b<c;b++)a[arguments[0][b]]=this.attrs[arguments[0][b]];return a}2==arguments[p]&&(a={},a[arguments[0]]=arguments[1]);1==arguments[p]&&m.is(arguments[0],"object")&&(a=arguments[0]);a&&(a.text&&"text"==this.type&&(this.node.string=a.text),N(this,a),a.gradient&&({circle:1,ellipse:1}.hasOwnProperty(this.type)||"r"!=(a.gradient+"").charAt())&&Z(this,a.gradient),("path"!=
this.type||this._.rt.deg)&&this.setBox(this.attrs));return this};n.prototype.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&ya(this,this.paper);return this};n.prototype.toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),za(this,this.paper));return this};n.prototype.insertAfter=function(a){if(this.removed)return this;a.Group.nextSibling?
a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);Aa(this,a,this.paper);return this};n.prototype.insertBefore=function(a){if(this.removed)return this;a.Group.parentNode.insertBefore(this.Group,a.Group);Ba(this,a,this.paper);return this};var Fa=function(a,b,c,e){var f=D("group"),d=D("oval");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=a.coordsize;f.coordorigin=a.coordorigin;f.appendChild(d);
d=new n(d,f,a);d.type="circle";N(d,{stroke:"#000",fill:"none"});d.attrs.cx=b;d.attrs.cy=c;d.attrs.r=e;d.setBox({x:b-e,y:c-e,width:2*e,height:2*e});a.canvas.appendChild(f);return d},Ga=function(a,b,c,e,f,d){var k=D("group"),g=D("roundrect"),h=(+d||0)/M(e,f);k.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";k.coordsize=a.coordsize;k.coordorigin=a.coordorigin;k.appendChild(g);g.arcsize=h;g=new n(g,k,a);g.type="rect";N(g,{stroke:"#000"});g.arcsize=h;g.setBox({x:b,
y:c,width:e,height:f,r:d});a.canvas.appendChild(k);return g},Ha=function(a,b,c,e,f){var d=D("group"),k=D("oval");d.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";d.coordsize=a.coordsize;d.coordorigin=a.coordorigin;d.appendChild(k);k=new n(k,d,a);k.type="ellipse";N(k,{stroke:"#000"});k.attrs.cx=b;k.attrs.cy=c;k.attrs.rx=e;k.attrs.ry=f;k.setBox({x:b-e,y:c-f,width:2*e,height:2*f});a.canvas.appendChild(d);return k},Ia=function(a,b,c,e,f,d){var k=D("group"),g=
D("image");k.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";k.coordsize=a.coordsize;k.coordorigin=a.coordorigin;g.src=b;k.appendChild(g);g=new n(g,k,a);g.type="image";g.attrs.src=b;g.attrs.x=c;g.attrs.y=e;g.attrs.w=f;g.attrs.h=d;g.setBox({x:c,y:e,width:f,height:d});a.canvas.appendChild(k);return g},Ja=function(a,b,c,e){var f=D("group"),d=D("shape"),k=d.style,g=D("path"),h=D("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+
a.height+"px";f.coordsize=a.coordsize;f.coordorigin=a.coordorigin;g.v=m.format("m{0},{1}l{2},{1}",z(b),z(c),z(b)+1);g.textpathok=!0;k.width=a.width;k.height=a.height;h.string=e+"";h.on=!0;d.appendChild(h);d.appendChild(g);f.appendChild(d);k=new n(h,f,a);k.shape=d;k.textpath=g;k.type="text";k.attrs.text=e;k.attrs.x=b;k.attrs.y=c;k.attrs.w=1;k.attrs.h=1;N(k,{font:ba.font,stroke:"none",fill:"#000"});k.setBox();a.canvas.appendChild(f);return k},Ka=function(a,b){var c=this.canvas.style;a==+a&&(a+="px");
b==+b&&(b+="px");c.width=a;c.height=b;c.clip="rect(0 "+a+" "+b+" 0)";return this},D;x.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!x.namespaces.rvml&&x.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),D=function(a){return x.createElement("<rvml:"+a+' class="rvml">')}}catch(a){D=function(a){return x.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}ja=function(){var a=xa[C](null,arguments),b=a.container,c=a.height,e=a.width,f=a.x,a=a.y;if(!b)throw Error("VML container not found.");
var d=new A,k=d.canvas=x.createElement("div"),g=k.style,e=e||512,c=c||342;e==+e&&(e+="px");c==+c&&(c+="px");d.width=1E3;d.height=1E3;d.coordsize="1000 1000";d.coordorigin="0 0";d.span=x.createElement("span");d.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";k.appendChild(d.span);g.cssText=m.format("width:{0};height:{1};position:absolute;clip:rect(0 {0} {1} 0);overflow:hidden",e,c);1==b?(x.body.appendChild(k),g.left=f+"px",g.top=a+"px"):
(b.style.width=e,b.style.height=c,b.firstChild?b.insertBefore(k,b.firstChild):b.appendChild(k));la.call(d,d,m.fn);return d};A.prototype.clear=function(){this.canvas.innerHTML="";this.span=x.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};A.prototype.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Ca(a)}}!/^Apple|^Google/.test(navigator.vendor)||
navigator.userAgent.indexOf("Version/4.0")+1?A.prototype.safari=function(){}:A.prototype.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99);setTimeout(function(){a.remove()})};for(var La=function(){if(x.addEventListener)return function(a,b,c,e){var f=function(a){return c.call(e,a)};a.addEventListener(b,f,!1);return function(){a.removeEventListener(b,f,!1);return!0}};if(x.attachEvent)return function(a,b,c,e){var f=function(a){return c.call(e,a||S.event)};a.attachEvent("on"+b,f);
return function(){a.detachEvent("on"+b,f);return!0}}}(),W=T[p];W--;)(function(a){n.prototype[a]=function(b){m.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:La(this.shape||this.node,a,b,this)}));return this};n.prototype["un"+a]=function(b){for(var c=this.events,e=c[p];e--;)if(c[e].name==a&&c[e].f==b){c[e].unbind();c.splice(e,1);!c.length&&delete this.events;break}return this}})(T[W]);n.prototype.hover=function(a,b){return this.mouseover(a).mouseout(b)};n.prototype.unhover=
function(a,b){return this.unmouseover(a).unmouseout(b)};A.prototype.circle=function(a,b,c){return Fa(this,a||0,b||0,c||0)};A.prototype.rect=function(a,b,c,e,f){return Ga(this,a||0,b||0,c||0,e||0,f||0)};A.prototype.ellipse=function(a,b,c,e){return Ha(this,a||0,b||0,c||0,e||0)};A.prototype.path=function(a){a&&!m.is(a,"string")&&!m.is(a[0],"array")&&(a+="");return Ea(m.format[C](m,arguments),this)};A.prototype.image=function(a,b,c,e,f){return Ia(this,a||"about:blank",b||0,c||0,e||0,f||0)};A.prototype.text=
function(a,b,c){return Ja(this,a||0,b||0,c||"")};A.prototype.set=function(a){1<arguments[p]&&(a=Array.prototype.splice.call(arguments,0,arguments[p]));return new O(a)};A.prototype.setSize=Ka;A.prototype.top=A.prototype.bottom=null;A.prototype.raphael=m;n.prototype.scale=function(a,b,c,e){if(null==a&&null==b)return{x:this._.sx,y:this._.sy,toString:qa};b=b||a;!+b&&(b=a);var f,d,k=this.attrs;if(0!=a){var g=this.getBBox(),h=g.x+g.width/2,l=g.y+g.height/2;f=a/this._.sx;d=b/this._.sy;c=+c||0==c?c:h;e=+e||
0==e?e:l;var g=~~(a/v.abs(a)),m=~~(b/v.abs(b)),n=this.node.style,r=c+(h-c)*f,l=e+(l-e)*d;switch(this.type){case "rect":case "image":var y=k.width*g*f,t=k.height*m*d;this.attr({height:t,r:k.r*M(g*f,m*d),width:y,x:r-y/2,y:l-t/2});break;case "circle":case "ellipse":this.attr({rx:k.rx*g*f,ry:k.ry*m*d,r:k.r*M(g*f,m*d),cx:r,cy:l});break;case "path":for(var h=ta(k.path),R=!0,x=0,z=h[p];x<z;x++){var w=h[x],q;q=aa.call(w[0]);if("M"!=q||!R)if(R=!1,"A"==q)w[h[x][p]-2]*=f,w[h[x][p]-1]*=d,w[1]=w[1]*g*f,w[2]=w[2]*
m*d,w[5]=+(g+m?!!+w[5]:!+w[5]);else if("H"==q)for(q=1,jj=w[p];q<jj;q++)w[q]*=f;else if("V"==q)for(q=1,jj=w[p];q<jj;q++)w[q]*=d;else for(q=1,jj=w[p];q<jj;q++)w[q]*=q%2?f:d}d=fa(h);f=r-d.x-d.width/2;d=l-d.y-d.height/2;h[0][1]+=f;h[0][2]+=d;this.attr({path:h})}this.type in{text:1,image:1}&&(1!=g||1!=m)?this.transformations?(this.transformations[2]="scale(".concat(g,",",m,")"),this.node.setAttribute("transform",this.transformations.join(" ")),f=-1==g?-k.x-(y||0):k.x,d=-1==m?-k.y-(t||0):k.y,this.attr({x:f,
y:d}),k.fx=g-1,k.fy=m-1):(this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11=".concat(g,", M12=0, M21=0, M22=",m,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),n.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")):this.transformations?(this.transformations[2]="",this.node.setAttribute("transform",this.transformations.join(" ")),k.fx=0,k.fy=0):(this.node.filterMatrix="",n.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||""));k.scale=
[a,b,c,e].join(" ");this._.sx=a;this._.sy=b}return this};n.prototype.clone=function(){var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var T=function(a,b){return function(c,e,f){c=ea(c);for(var d,k,g,h,l="",p={},n=0,r=0,v=c.length;r<v;r++){g=c[r];if("M"==g[0])d=+g[1],k=+g[2];else{h=Ya(d,k,g[1],g[2],g[3],g[4],g[5],g[6]);if(n+h>e){if(b&&!p.start){d=m.findDotsAtSegment(d,k,g[1],g[2],g[3],g[4],g[5],g[6],(e-n)/h);l+=["C",d.start.x,d.start.y,d.m.x,d.m.y,d.x,
d.y];if(f)return l;p.start=l;l=["M",d.x,d.y+"C",d.n.x,d.n.y,d.end.x,d.end.y,g[5],g[6]].join();n+=h;d=+g[5];k=+g[6];continue}if(!a&&!b)return d=m.findDotsAtSegment(d,k,g[1],g[2],g[3],g[4],g[5],g[6],(e-n)/h),{x:d.x,y:d.y,alpha:d.alpha}}n+=h;d=+g[5];k=+g[6]}l+=g}p.end=l;d=a?n:b?p:m.findDotsAtSegment(d,k,g[1],g[2],g[3],g[4],g[5],g[6],1);d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha});return d}},Ya=J(function(a,b,c,e,f,d,k,g){for(var h={x:0,y:0},l=0,m=0;1.01>m;m+=.01){var n=Y(a,b,c,e,f,d,k,g,m);m&&(l+=v.sqrt(B(h.x-
n.x,2)+B(h.y-n.y,2)));h=n}return l}),Ma=T(1),ia=T(),na=T(0,1);n.prototype.getTotalLength=function(){if("path"==this.type)return Ma(this.attrs.path)};n.prototype.getPointAtLength=function(a){if("path"==this.type)return ia(this.attrs.path,a)};n.prototype.getSubpath=function(a,b){if("path"==this.type){if(1E-6>v.abs(this.getTotalLength()-b))return na(this.attrs.path,a).end;var c=na(this.attrs.path,b,1);return a?na(c,a).end:c}};m.easing_formulas={linear:function(a){return a},"<":function(a){return B(a,
3)},">":function(a){return B(a-1,3)+1},"<>":function(a){a*=2;return 1>a?B(a,3)/2:(B(a-2,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){--a;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return 0==a||1==a?a:B(2,-10*a)*v.sin(2*(a-.075)*v.PI/.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a}};var I={length:0},Na=function(){var a=+new Date,
b;for(b in I)if("length"!=b&&I.hasOwnProperty(b)){var c=I[b];if(c.stop)delete I[b],I[p]--;else{var e=a-c.start,f=c.ms,d=c.easing,k=c.from,g=c.diff,h=c.to,l=c.t,n=c.prev||0,u=c.el,r=c.callback,v={},t;if(e<f){var r=m.easing_formulas[d]?m.easing_formulas[d](e/f):e/f,q;for(q in k)if(k.hasOwnProperty(q)){switch(ka[q]){case "along":t=r*f*g[q];h.back&&(t=h.len-t);d=ia(h[q],t);u.translate(g.sx-g.x||0,g.sy-g.y||0);g.x=d.x;g.y=d.y;u.translate(d.x-g.sx,d.y-g.sy);h.rot&&u.rotate(g.r+d.alpha,d.x,d.y);break;case "number":t=
+k[q]+r*f*g[q];break;case "colour":t="rgb("+[oa(z(k[q].r+r*f*g[q].r)),oa(z(k[q].g+r*f*g[q].g)),oa(z(k[q].b+r*f*g[q].b))].join()+")";break;case "path":t=[];for(var d=0,y=k[q][p];d<y;d++){t[d]=[k[q][d][0]];for(var x=1,w=k[q][d][p];x<w;x++)t[d][x]=+k[q][d][x]+r*f*g[q][d][x];t[d]=t[d].join(" ")}t=t.join(" ");break;case "csv":switch(q){case "translation":t=g[q][0]*(e-n);d=g[q][1]*(e-n);l.x+=t;l.y+=d;t=t+" "+d;break;case "rotation":t=+k[q][0]+r*f*g[q][0];k[q][1]&&(t+=","+k[q][1]+","+k[q][2]);break;case "scale":t=
[+k[q][0]+r*f*g[q][0],+k[q][1]+r*f*g[q][1],2 in h[q]?h[q][2]:"",3 in h[q]?h[q][3]:""].join(" ");break;case "clip-rect":for(t=[],d=4;d--;)t[d]=+k[q][d]+r*f*g[q][d]}}v[q]=t}u.attr(v);u._run&&u._run.call(u)}else h.along&&(d=ia(h.along,h.len*!h.back),u.translate(g.sx-(g.x||0)+d.x-g.sx,g.sy-(g.y||0)+d.y-g.sy),h.rot&&u.rotate(g.r+d.alpha,d.x,d.y)),(l.x||l.y)&&u.translate(-l.x,-l.y),h.scale&&(h.scale+=""),u.attr(h),delete I[b],I[p]--,u.in_animation=null,m.is(r,"function")&&r.call(u);c.prev=e}}m.svg&&u&&
u.paper.safari();I[p]&&setTimeout(Na)},oa=function(a){return 255<a?255:0>a?0:a},ha=function(a,b){if(null==a)return{x:this._.tx,y:this._.ty,toString:qa};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case "path":var c=ta(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c})}return this};n.prototype.animateWith=function(a,
b,c,e,f){I[a.id]&&(b.start=I[a.id].start);return this.animate(b,c,e,f)};n.prototype.animateAlong=ra();n.prototype.animateAlongBack=ra(1);n.prototype.onAnimation=function(a){this._run=a||0;return this};n.prototype.animate=function(a,b,c,e){if(m.is(c,"function")||!c)e=c||null;var f={},d={},k={},g;for(g in a)if(a.hasOwnProperty(g)&&ka.hasOwnProperty(g))switch(f[g]=this.attr(g),null==f[g]&&(f[g]=ba[g]),d[g]=a[g],ka[g]){case "along":var h=Ma(a[g]),l=ia(a[g],h*!!a.back),n=this.getBBox();k[g]=h/b;k.tx=n.x;
k.ty=n.y;k.sx=l.x;k.sy=l.y;d.rot=a.rot;d.back=a.back;d.len=h;a.rot&&(k.r=y(this.rotate())||0);break;case "number":k[g]=(d[g]-f[g])/b;break;case "colour":f[g]=m.getRGB(f[g]);h=m.getRGB(d[g]);k[g]={r:(h.r-f[g].r)/b,g:(h.g-f[g].g)/b,b:(h.b-f[g].b)/b};break;case "path":h=ea(f[g],d[g]);f[g]=h[0];l=h[1];k[g]=[];h=0;for(n=f[g][p];h<n;h++){k[g][h]=[0];for(var q=1,r=f[g][h][p];q<r;q++)k[g][h][q]=(l[h][q]-f[g][h][q])/b}break;case "csv":l=(a[g]+"").split(K);h=(f[g]+"").split(K);switch(g){case "translation":f[g]=
[0,0];k[g]=[l[0]/b,l[1]/b];break;case "rotation":f[g]=h[1]==l[1]&&h[2]==l[2]?h:[0,l[1],l[2]];k[g]=[(l[0]-f[g][0])/b,0,0];break;case "scale":a[g]=l;f[g]=(f[g]+"").split(K);k[g]=[(l[0]-f[g][0])/b,(l[1]-f[g][1])/b,0,0];break;case "clip-rect":for(f[g]=(f[g]+"").split(K),k[g]=[],h=4;h--;)k[g][h]=(l[h]-f[g][h])/b}d[g]=l}this.stop();this.in_animation=1;I[this.id]={start:a.start||+new Date,ms:b,easing:c,from:f,diff:k,to:d,el:this,callback:e,t:{x:0,y:0}};1==++I[p]&&Na();return this};n.prototype.stop=function(){I[this.id]&&
I[p]--;delete I[this.id];return this};n.prototype.translate=function(a,b){return this.attr({translation:a+" "+b})};n.prototype.toString=function(){return"Rapha\u00ebl\u2019s object"};m.ae=I;var O=function(a){this.items=[];this[p]=0;if(a)for(var b=0,c=a[p];b<c;b++)!a[b]||a[b].constructor!=n&&a[b].constructor!=O||(this[this.items[p]]=this.items[this.items[p]]=a[b],this[p]++)};O.prototype[q]=function(){for(var a,b,c=0,e=arguments[p];c<e;c++)!(a=arguments[c])||a.constructor!=n&&a.constructor!=O||(b=this.items[p],
this[b]=this.items[b]=a,this[p]++);return this};O.prototype.pop=function(){delete this[this[p]--];return this.items.pop()};for(var pa in n.prototype)n.prototype.hasOwnProperty(pa)&&(O.prototype[pa]=function(a){return function(){for(var b=0,c=this.items[p];b<c;b++)this.items[b][a][C](this.items[b],arguments);return this}}(pa));O.prototype.attr=function(a,b){if(a&&m.is(a,"array")&&m.is(a[0],"object"))for(var c=0,e=a[p];c<e;c++)this.items[c].attr(a[c]);else for(c=0,e=this.items[p];c<e;c++)this.items[c].attr[C](this.items[c],
arguments);return this};O.prototype.animate=function(a,b,c,e){!m.is(c,"function")&&c||(e=c||null);var f=this.items[p],d=f,k=this,g;e&&(g=function(){!--f&&e.call(k)});for(this.items[--d].animate(a,b,c||g,g);d--;)this.items[d].animateWith(this.items[f-1],a,b,c||g,g);return this};O.prototype.insertAfter=function(a){for(var b=this.items[p];b--;)this.items[b].insertAfter(a);return this};O.prototype.getBBox=function(){for(var a=[],b=[],c=[],e=[],f=this.items[p];f--;){var d=this.items[f].getBBox();a[q](d.x);
b[q](d.y);c[q](d.x+d.width);e[q](d.y+d.height)}a=M[C](0,a);b=M[C](0,b);return{x:a,y:b,width:L[C](0,c)-a,height:L[C](0,e)-b}};m.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],e;for(e in a.face)a.face.hasOwnProperty(e)&&(b.face[e]=a.face[e]);if(this.fonts[c])this.fonts[c][q](b);else this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=Q(a.face["units-per-em"],10);for(var f in a.glyphs)if(a.glyphs.hasOwnProperty(f)&&(c=a.glyphs[f],
b.glyphs[f]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var d in c.k)c.hasOwnProperty(d)&&(b.glyphs[f].k[d]=c.k[d])}return a};A.prototype.getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;var f=m.fonts[a];if(!f){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var d in m.fonts)if(m.fonts.hasOwnProperty(d)&&a.test(d)){f=m.fonts[d];
break}}var k;if(f)for(d=0,a=f[p];d<a&&(k=f[d],k.face["font-weight"]!=b||k.face["font-style"]!=c&&k.face["font-style"]||k.face["font-stretch"]!=e);d++);return k};A.prototype.print=function(a,b,c,e,f,d){d=d||"middle";var k=this.set();c=(c+"").split("");var g=0;m.is(e,"string")&&(e=this.getFont(e));if(e){f=(f||16)/e.face["units-per-em"];var h=e.face.bbox.split(K),l=+h[0];d=+h[1]+("baseline"==d?h[3]-h[1]+ +e.face.descent:(h[3]-h[1])/2);for(var h=0,n=c[p];h<n;h++){var r=h&&e.glyphs[c[h-1]]||{},v=e.glyphs[c[h]],
g=g+(h?(r.w||e.w)+(r.k&&r.k[c[h]]||0):0);v&&v.d&&k[q](this.path(v.d).attr({fill:"#000",stroke:"none",translation:[g,0]}))}k.scale(f,f,l,d).translate(a-l,b-d)}return k};m.format=function(a){var b=m.is(arguments[1],"array")?[0].concat(arguments[1]):arguments,c=/\{(\d+)\}/g;a&&m.is(a,"string")&&b[p]-1&&(a=a.replace(c,function(a,c){return null==b[++c]?"":b[c]}));return a||""};m.ninja=function(){var a=Raphael;Pa?Raphael=Qa:delete Raphael;return a};m.el=n.prototype;return m}();
